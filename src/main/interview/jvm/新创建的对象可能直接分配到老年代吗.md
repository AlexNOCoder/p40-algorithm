# 新创建的对象可能直接分配到老年代吗

### 说明

- 大多数情况下，对象在新生代Eden区中分配。当Eden区没有足够空间进行分配时，虚拟机将发起一次Minor GC。

- 对象就是指需要大量连续内存空间的java对象，最典型的大对象便是那种很长的字符串，或者元素数量很庞大的数组。大对象对虚拟机的内存分配来说就是一个不折不扣的坏消息，比遇到一个大对象更加坏的消息就是遇到一群"朝生夕灭"的"短命大对象"，我们写程序的时候应注意避免。

- 在java虚拟机中要避免大对象的原因是，在分配空间时，它容易导致内存明明还要不少空间时就提前触发垃圾收集，以获取足够的连续空间才能安置它们，而当复制对象时，大对象就意味着高额的内存复制开销。HotSpot虚拟机提供了-XX:PretenureSizeThreshold参数，指定大于该设置值的对象直接在老年代分配，这样做的目的就是避免在Eden区以及两个Survivor区之前来回复制，产生大量的内存复制操作。