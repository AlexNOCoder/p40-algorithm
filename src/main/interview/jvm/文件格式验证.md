# 文件格式验证

### 说明
要验证字节流是否符合Class文件格式的规范，并且能被当前版本的虚拟机处理。这一阶段包括的验证点：
1. 是否以魔数OxCAFEBABE开头
2. 主、次版本号是否在当前Java虚拟机接受范围之内
3. 常量池的常量是否有不被支持的常量类型(检查常量tag标志)
4. 指向常量池的各种索引值是否有指向不存在的常量或不符合类型的常量
5. constant_utft8_info类型的常量是否有不符合utf-8编码的数据
6. class文件中各个部分及文件本身是否有被删除或附加的其他信息

这个阶段的验证是基于二进制字节流进行的，只有通过了这个阶段的验证，这段字节流才被允许进入java虚拟机内存的方法区中进行存储，所以后面的三个验证阶段全部是基于方法区的存储结构上进行的，不会再直接读取、操作字节流了。