# 如何保证消息不被重复消费

### 说明
- 幂等：一个数据或者一个请求，重复来多次，确保对应的数据是不会改变的，不能出错
- 思路：
  1. 如果是写redis，就没有问题，反正每次都是set，天然幂等
  2. 生产者发送消息的时候带上一个全局唯一的id，消费者拿到消息后，先根据这个id去redis里查一下，之前有没消费过，没有消费过就处理，并且写入这个id到redis，如果消费过了，则不处理。 
     
  3. 基于数据库的唯一键值