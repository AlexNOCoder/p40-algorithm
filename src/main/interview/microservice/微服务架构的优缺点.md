# 微服务架构的优缺点

### 什么情况下需要进行微服务架构
1. 演变而来(从单体应用演变过来)
2. 初期评估起手就是微服务

### 优点

- 分工协作
  - 单体：影响开发效率，发布和迭代性较差；项目启动慢，每个人对整体的项目都要有所把握；业务缩减后如果语言不一致开发人员面临流失
  - 拆分：提高开发效率和敏捷性；单个服务启动快，专人处理专事专注自己的服务；充分利用项目开发人员(哪怕是不通过语言不同框架，不同存储技术，也可以)
- 并发能力
  - 单体：整体集群，易造成系统资源浪费；之前下单功能要去集群无法准确评测最大并发量，因为所有的功能都在一起，无法准确预估扩容的服务器
  - 拆分：服务集群，充分利用服务器资源；现在只需要针对下单服务进行压测就可以得到，下单功能具体能承受的并发量最高水位，从而更准确的进行扩容
- 维护能力(维护困难)
   - 单体：随着业务量增加，应用慢慢膨胀，后序可能会变得牵一发而动全身，难以维护
  - 拆分：根据功能垂直拆分，职责更加分明，维护更加准确
- 容错
    - 单体：单点故障，一个功能OOM导致整个应用都不可用
  - 拆分：弱依赖的服务出现故障，可以进行熔断依然不影响主业务正常使用
- 扩展
    - 单体：难以技术升级
  - 拆分：新的服务采用任意新技术(技术多样性)
    

### 缺点

- 分布式
    - 分布式系统较难编程，因为远程调用速度很慢，并且总是面临失败的风险。对开发人员的技术要求更高
- 最终一致性
    - 对于分布式系统而言，保持最终一致性非常困难，这意味着每个人都必须管理最终一致性
- 运维复杂度
    - 微服务必定带来开发、上线、运维的复杂度的提高
- 隐式接口
    - 服务和服务之间通过接口来"联系",当某个服务更改接口格式时，可能设计到此接口的所有服务都需要做调整
- 重复劳动
    - 在很多服务中可能会使用到同一个功能，而这一功能没有足够大道提供一个服务的程度，这个时候可以不同的服务团队都会单独开发这一功能，重复的业务逻辑，这违背了设计原则