###MySQL并不完美，却足够灵活。（逻辑架构）  
能够适应高要求的环境。  
MySQL最重要，最与众不同的特性是它的存储引擎架构，将查询处理（Query Processing）和其他系统任务（Server Task）和数据的存储/提取相分离。
这种处理和存储相分离的设计可以在使用时根据性能，特性，以及其他需求来选择数据存储方式。  
逻辑架构分为三层  
最上层的服务不是Mysql所特有，大多数基于网络的客服端/服务器的工具或者服务都有类似的架构。比如链接处理，认证授权，安全  
第二层是大多数MySQL核心服务所在，包括查询解析/分析/优化/缓存以及所有内置函数。  
所有跨存储引擎的功能都在这实现：存储过程/触发器/视图。  
第三层包含存储引擎，负责MySql中数据的存储和提取。每个存储引擎都有优势和劣势。服务器通过API与存储引擎进行通信。屏蔽了不同存储引擎之间的差异。简单相应上层服务器请求。  

### 连接管理与安全性  
每个客服端链接都会在服务器进程中拥有一个线程。这个链接的查询只会在这个单独的线程中执行。该线程只能轮流在某个cpu核心或者cpu中运行。  
服务器会负责缓存线程。  
当应用链接到MySQL服务器时，对其进行认证。  
### 优化与执行  
MySQL会解析查询，并创建内部数据结构（解析树），然后对其进行各种优化，包括重写查询，决定表的读取顺序，以及选择合适的索引。  
用户可以通过特色关键字提示（hint）优化器，影响它的决策过程。也可以让优化器解释优化过程的因素，分析服务器如何进行优化决策，提供参考基准。用于重构查询和schema，修改相关配置。  
优化器不关心表使用什么存储引擎，但是存储引擎会影响优化查询。优化器会请求存储引擎提供容量或者某个操作的开销信息，以及表数据的统计信息等。  
对select语句，在解析查询之前，服务器会先检查产线缓存（Query Cache），如果有就不用再执行查询解析/优化/执行的整个过程，而是直接返回查询缓存中的结果集。

relax today
