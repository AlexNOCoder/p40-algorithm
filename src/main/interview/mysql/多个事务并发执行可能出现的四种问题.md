# 多个事务并发执行可能出现的四种问题

### 说明

- 脏写
  - 有个两个事务，事务A和事务B同时在更新一条数据，事务A先把数据更新为A，事务B紧接着更新为B。然后事务A回滚了，数据更新为了NULL。事务B发现自己更新了，结果值却没了。 
  - 本质就是事务B去修改事务A修改过的值，但是事务A此时并没有提交，所以事务A随时可以回滚，导致事务B修改的值也没有了，这就是脏写的定义。
- 脏读
  - 本质是事务B去查询事务A修改后的数据，此时事务A没有提交，所以事务A随时会回滚导致事务B再次查询就读不到刚才事务A修改的值了。
  
- 不可重复读
  - 事务A在事务中多次查询数据A，但是事务B和事务C都在修改，事务A多次查到他们修改的值。如果事务A期望在事务中A的值能够重复读取，而不是一直变化，这就是不可重复读问题。如果事务A期望的是事务中读到的A都是最新的，可以改变的，那就没有问题。
- 幻读
  - 事务A在事务中，第一次查询select * from table where id>10这种，查询一批数据的sql。得到10条数据。然后事务B紧接着往表里插入了几条数据。导致事务A再次用同一个sql查出来的数据条数变多了。幻读是指你查询到了之前查询没有看到过的数据。 